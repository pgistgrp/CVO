<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>Thematic map overlay on GMap</title>
    <script src="wms-gs-1_0_0.js" type="text/javascript"></script>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAADmWGO07Q7ZeAHCvFNooqIxTMQr9OtvWsNFeptWCGh89IsOL7XRTzSDTBQgvsYPgYTVfIsTqYFjIMBg"
      type="text/javascript"></script>
    <script type="text/javascript">

    //<![CDATA[
	var map = null;
    function load() {
      if (GBrowserIsCompatible()) {
			map = new GMap2(document.getElementById("map"));
		
			// Create tile layers
			var tileCountry= new GTileLayer(new GCopyrightCollection(""),1,17);
				tileCountry.myLayers='ChinaFinal';
		
				tileCountry.myBaseURL='http://collab.geog.washington.edu:8080/wmsconnector/com.esri.wsit.WMSServlet/chinaprovince?';
				tileCountry.getTileUrl=CustomGetTileUrl;
				tileCountry.myOpacity=0.7;
		        tileCountry.getOpacity=customOpacity;
		
			 var layer3=[G_SATELLITE_MAP.getTileLayers()[0],G_HYBRID_MAP.getTileLayers()[1],tileCountry];
			 var custommap3 = new GMapType(layer3, G_SATELLITE_MAP.getProjection(), "PGIST", G_SATELLITE_MAP);
		
			 map.getMapTypes().length = 0;
			 map.addMapType(custommap3);
		
	         map.setCenter(new GLatLng(30,109), 5);
			 map.addControl(new GLargeMapControl());
			 map.addControl(new GMapTypeControl());
      }
    }

    //]]>
    </script>
</head>

<body onload="load()" onunload="GUnload()">
	<h3>Percentage of illiteracy in China</h3>
	<table width="100%" border="0">
  <tr>
    <td width="700">    <div id="map" style="width: 700px; height: 500px"></div>
&nbsp;</td>
    <td valign="top"><img src="images/legend.png" alt="legend" /></td>
  </tr>
</table>

  </body>
</html>

