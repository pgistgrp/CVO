<?xml version="1.0" encoding="UTF-8"?>
<templates>


    <!-- PGames -->
    
    <pgames>
    
        <pgame name="pgame-sarp.drt.clear.vote" title="Clear Vote" auto="true">
            <description>
              <![CDATA[Clear DRT Vote.]]>
            </description>
            <taskName>task-sarp.drt.clear.vote</taskName>
            <declaration>
                <ins>
                    <var name="oid"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.toggle.drt" title="Toggle DRT." auto="true">
            <description>
              <![CDATA[<small>Toggle a DRT.</small>]]>
            </description>
            <taskName>task-sarp.toggle.drt</taskName>
            <declaration>
                <ins>
                    <var name="oid"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.create.bct" title="Create BCT." auto="true">
            <description>
              <![CDATA[<small>Start a new instance of BCT</small>]]>
            </description>
            <taskName>task-sarp.create.bct</taskName>
            <declaration>
                <outs>
                    <var name="bct_id"/>
                </outs>
                <props>
                    <property name="name" value="BCT" />
                    <property name="purpose" value="In order to determine what needs to be improved about our transportation system, we first need to know what the problems are. Therefore, the first task is brainstorming concerns." />
                    <property name="instruction" value="For this task, we are asking you to add concerns to your profile. These concerns will be visible to other participants, and will be used in later sessions to determine how to turn our concerns into suggestions for decision makers. Below, you’ll find a box in which to type your concern. You will be asked to ‘tag’ your concerns, so that others may find your concern more easily. The sidebar to the right of your concerns is your way of seeing what others are writing about. You may navigate by either tags or concerns." />
                </props>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.publish.bct" title="Publish BCT." auto="true">
            <description>
              <![CDATA[<small>Publish a BCT discussion.</small>]]>
            </description>
            <taskName>task-sarp.publish.bct</taskName>
            <declaration>
                <ins>
                    <var name="bct_id"/>
                    <var name="oid"/>
                </ins>
                <outs>
                    <var name="oid"/>
                </outs>
                <props>
                    <property name="title" value="Discuss and Review for BCT" />
                </props>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.bct" title="Brainstorm concerns" auto="false" access="all">
            <description>
              <![CDATA[<small>Brainstorm transportation concerns with other participants.</small>]]>
            </description>
            <actionName>action-sarp.bct</actionName>
            <declaration>
                <ins>
                    <var name="bctId"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.drt.bct" title="Discuss and Review Tool" auto="false" access="all" revisitable="true">
            <description>
              <![CDATA[<small>Discuss and evaluate summaries of movements.</small>]]>
            </description>
            <actionName>action-sarp.drt</actionName>
            <declaration>
                <ins>
                    <var name="oid"/>
                </ins>
                <props>
                    <property name="javascript">
                        <![CDATA[
                        <script type='text/javascript' src='/dwr/interface/BCTAgent.js'></script>
                        <script type='text/javascript' src='/scripts/sarp/bct/drt.js'></script>
                        ]]>
                    </property>
                    <property name="page" value="/WEB-INF/jsp/sarp/bct/info-object.jsp" />
                </props>
            </declaration>
        </pgame>
    
        <pgame name="pgame-sarp.toggle.bct" title="Toggle BCT." auto="true">
            <description>
              <![CDATA[<small>Toggle a BCT.</small>]]>
            </description>
            <taskName>task-sarp.toggle.bct</taskName>
            <declaration>
                <ins>
                    <var name="bct_id"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.create.cst" title="Create CST." auto="true">
            <description>
              <![CDATA[<small>Start a new instance of CST</small>]]>
            </description>
            <taskName>task-sarp.create.cst</taskName>
            <declaration>
                <ins>
                    <var name="bct_id"/>
                </ins>
                <outs>
                    <var name="cst_id"/>
                </outs>
                <props>
                    <property name="name" value="CST" />
                    <property name="purpose" value="In order to determine what needs to be improved about our transportation system, we first need to know what the problems are. Therefore, the first task is brainstorming concerns." />
                    <property name="instruction" value="For this task, we are asking you to add concerns to your profile. These concerns will be visible to other participants, and will be used in later sessions to determine how to turn our concerns into suggestions for decision makers. Below, you’ll find a box in which to type your concern. You will be asked to ‘tag’ your concerns, so that others may find your concern more easily. The sidebar to the right of your concerns is your way of seeing what others are writing about. You may navigate by either tags or concerns." />
                </props>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.cst" title="Concerns synthesis tool" auto="false" access="all" revisitable="true">
            <description>
              <![CDATA[<small>Write summaries by categorizing concerns and tags into themes</small>]]>
            </description>
            <actionName>action-sarp.cst</actionName>
            <declaration>
                <ins>
                    <var name="cstId"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.publish.cst" title="Publish CST." auto="true">
            <description>
              <![CDATA[Publish cst.]]>
            </description>
            <taskName>task-sarp.publish.cst</taskName>
            <declaration>
                <ins>
                    <var name="cst_id"/>
                    <var name="oid"/>
                </ins>
                <outs>
                    <var name="oid"/>
                </outs>
                <props>
                    <property name="title" value="Discuss and Review for CST" />
                </props>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.drt.cst" title="Discuss and Review Tool" auto="false" access="all" revisitable="true">
            <description>
              <![CDATA[<small>Discuss and evaluate summaries of movements.</small>]]>
            </description>
            <actionName>action-sarp.drt</actionName>
            <declaration>
                <ins>
                    <var name="oid"/>
                </ins>
                <props>
                    <property name="javascript">
                        <![CDATA[
                        <script type='text/javascript' src='/dwr/interface/CSTAgent.js'></script>
                        <script type='text/javascript' src='/scripts/sarp/cst/drt.js'></script>
                        ]]>
                    </property>
                    <property name="page" value="/WEB-INF/jsp/sarp/cst/info-object.jsp" />
                    <property name="showLoopChoice" value="true" />
                </props>
            </declaration>
        </pgame>
    
        <pgame name="pgame-sarp.toggle.cst" title="Toggle CST." auto="true">
            <description>
              <![CDATA[<small>Toggle a CST.</small>]]>
            </description>
            <taskName>task-sarp.toggle.cst</taskName>
            <declaration>
                <ins>
                    <var name="cst_id"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.create.cht" title="Create CHT." auto="true">
            <description>
              <![CDATA[<small>Start a new instance of CHT</small>]]>
            </description>
            <taskName>task-sarp.create.cht</taskName>
            <declaration>
                <ins>
                    <var name="cst_id"/>
                </ins>
                <outs>
                    <var name="cht_id"/>
                </outs>
                <props>
                    <property name="name" value="CHT" />
                    <property name="purpose" value="In order to determine what needs to be improved about our transportation system, we first need to know what the problems are. Therefore, the first task is brainstorming concerns." />
                    <property name="instruction" value="For this task, we are asking you to add concerns to your profile. These concerns will be visible to other participants, and will be used in later sessions to determine how to turn our concerns into suggestions for decision makers. Below, you’ll find a box in which to type your concern. You will be asked to ‘tag’ your concerns, so that others may find your concern more easily. The sidebar to the right of your concerns is your way of seeing what others are writing about. You may navigate by either tags or concerns." />
                </props>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.cht" title="Category Hierarchy tool" auto="false" access="moderator" revisitable="true">
            <description>
              <![CDATA[<small>Write summaries by categorizing concerns and tags into themes</small>]]>
            </description>
            <actionName>action-sarp.cht</actionName>
            <declaration>
                <ins>
                    <var name="chtId"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.publish.cht" title="Publish CHT." auto="true">
            <description>
              <![CDATA[Publish cht.]]>
            </description>
            <taskName>task-sarp.publish.cht</taskName>
            <declaration>
                <ins>
                    <var name="cht_id"/>
                    <var name="oid"/>
                </ins>
                <outs>
                    <var name="oid"/>
                </outs>
                <props>
                    <property name="title" value="Discuss and Review for CHT" />
                </props>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.drt.cht" title="Discuss and Review Tool" auto="false" access="all" revisitable="true">
            <description>
              <![CDATA[<small>Discuss and evaluate summaries of movements.</small>]]>
            </description>
            <actionName>action-sarp.drt</actionName>
            <declaration>
                <ins>
                    <var name="oid"/>
                </ins>
                <props>
                    <property name="javascript">
                        <![CDATA[
                        <script type='text/javascript' src='/dwr/interface/CHTAgent.js'></script>
                        <script type='text/javascript' src='/scripts/sarp/cht/drt.js'></script>
                        ]]>
                    </property>
                    <property name="page" value="/WEB-INF/jsp/sarp/cht/info-object.jsp" />
                    <property name="showLoopChoice" value="true" />
                </props>
            </declaration>
        </pgame>
    
        <pgame name="pgame-sarp.toggle.cht" title="Toggle CHT." auto="true">
            <description>
              <![CDATA[<small>Toggle a CHT.</small>]]>
            </description>
            <taskName>task-sarp.toggle.cht</taskName>
            <declaration>
                <ins>
                    <var name="cht_id"/>
                </ins>
            </declaration>
        </pgame>
        
        <pgame name="pgame-sarp.drt.vtt" title="Discuss and Review Tool" auto="false" access="all" revisitable="true">
            <description>
              <![CDATA[<small>Discuss and evaluate summaries of movements.</small>]]>
            </description>
            <actionName>action-sarp.drt</actionName>
            <declaration>
                <ins>
                    <var name="oid"/>
                </ins>
                <props>
                    <property name="javascript">
                        <![CDATA[
                        <script type='text/javascript' src='/dwr/interface/VTTAgent.js'></script>
                        <script type='text/javascript' src='/scripts/sarp/vtt/drt.js'></script>
                        ]]>
                    </property>
                    <property name="page" value="/WEB-INF/jsp/sarp/vtt/info-object.jsp" />
                    <property name="showLoopChoice" value="true" />
                </props>
            </declaration>
        </pgame>
    
    </pgames>
    
    <!-- PMethods -->
    
    <pmethods>
    
        <pmethod name="pmethod-sarp.bct" description="Step 1: Brainstorm Concerns Tool">
            <declaration>
                <ins>
                    <var name="pmethod.bct_id"/>
                    <var name="pmethod.bct_oid"/>
                </ins>
            </declaration>
            <sequence>
                <pgame name="pgame-sarp.create.bct">
                    <declaration>
                        <outs>
                            <var name="bct_id" ref="pmethod.bct_id"/>
                        </outs>
                    </declaration>
                </pgame>
                <pgame name="pgame-sarp.publish.bct">
                    <declaration>
                        <ins>
                            <var name="oid" ref="pmethod.bct_oid"/>
                            <var name="bct_id" ref="pmethod.bct_id"/>
                        </ins>
                        <outs>
                            <var name="oid" ref="pmethod.bct_oid"/>
                        </outs>
                    </declaration>
                </pgame>
                <branch>
                    <sequence>
                        <pgame name="pgame-sarp.bct">
                            <declaration>
                                <ins>
                                    <var name="bctId" ref="pmethod.bct_id"/>
                                </ins>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.bct">
                            <declaration>
                                <ins>
                                    <var name="bct_id" ref="pmethod.bct_id"/>
                                </ins>
                                <props>
                                    <property name="action" value="close" />
                                </props>
                            </declaration>
                        </pgame>
                    </sequence>
                    <sequence>
                        <pgame name="pgame-sarp.drt.bct">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.bct_oid"/>
                                </ins>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.drt">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.bct_oid"/>
                                </ins>
                                <props>
                                    <property name="action" value="close" />
                                </props>
                            </declaration>
                        </pgame>
                    </sequence>
                </branch>
            </sequence>
        </pmethod>
        
        <pmethod name="pmethod-sarp.cst" description="Step 2: Concern Synthesis Tool">
            <declaration>
                <ins>
                    <var name="pmethod.bct_id"/>
                </ins>
                <outs>
                    <var name="pmethod.cst_id"/>
                    <var name="pmethod.cst_oid"/>
                    <var name="pmethod.exitCondition"/>
                </outs>
            </declaration>
            <sequence>
                <pgame name="pgame-sarp.create.cst">
                    <declaration>
                        <ins>
                            <var name="bct_id" ref="pmethod.bct_id"/>
                        </ins>
                        <outs>
                            <var name="cst_id" ref="pmethod.cst_id"/>
                        </outs>
                    </declaration>
                </pgame>
                <repeat exitCondition="pmethod.exitCondition">
                    <sequence>
                        <pgame name="pgame-sarp.toggle.cst">
                            <declaration>
                                <ins>
                                    <var name="cst_id" ref="pmethod.cst_id"/>
                                </ins>
                                <props>
                                    <property name="action" value="open" />
                                </props>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.cst">
                            <declaration>
                                <ins>
                                    <var name="cstId" ref="pmethod.cst_id"/>
                                </ins>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.cst">
                            <declaration>
                                <ins>
                                    <var name="cst_id" ref="pmethod.cst_id"/>
                                </ins>
                                <props>
                                    <property name="action" value="close" />
                                </props>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.publish.cst">
                            <declaration>
                                <ins>
                                    <var name="cst_id" ref="pmethod.cst_id"/>
                                    <var name="oid" ref="pmethod.cst_oid"/>
                                </ins>
                                <outs>
                                    <var name="oid" ref="pmethod.cst_oid"/>
                                </outs>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.drt">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cst_oid"/>
                                </ins>
                                <props>
                                    <property name="action" value="open" />
                                </props>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.drt.clear.vote">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cst_oid"/>
                                </ins>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.drt.cst">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cst_oid"/>
                                    <var name="exitCondition" ref="pmethod.exitCondition"/>
                                </ins>
                                <outs>
                                    <var name="exitCondition" ref="pmethod.exitCondition" />
                                </outs>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.drt">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cst_oid"/>
                                </ins>
                                <props>
                                    <property name="action" value="close" />
                                </props>
                            </declaration>
                        </pgame>
                    </sequence>
                </repeat>
            </sequence>
        </pmethod>
        
        <pmethod name="pmethod-sarp.cht" description="Step 2: Category Hierarchy Tool">
            <declaration>
                <ins>
                    <var name="pmethod.cst_id"/>
                </ins>
                <outs>
                    <var name="pmethod.cht_id"/>
                    <var name="pmethod.cht_oid"/>
                    <var name="pmethod.exitCondition"/>
                </outs>
            </declaration>
            <sequence>
                <pgame name="pgame-sarp.create.cht">
                    <declaration>
                        <ins>
                            <var name="cst_id" ref="pmethod.cst_id"/>
                        </ins>
                        <outs>
                            <var name="cht_id" ref="pmethod.cht_id"/>
                        </outs>
                    </declaration>
                </pgame>
                <repeat exitCondition="pmethod.exitCondition">
                    <sequence>
                        <pgame name="pgame-sarp.toggle.cht">
                            <declaration>
                                <ins>
                                    <var name="cht_id" ref="pmethod.cht_id"/>
                                </ins>
                                <props>
                                    <property name="action" value="open" />
                                </props>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.cht">
                            <declaration>
                                <ins>
                                    <var name="chtId" ref="pmethod.cht_id"/>
                                </ins>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.cht">
                            <declaration>
                                <ins>
                                    <var name="cht_id" ref="pmethod.cht_id"/>
                                </ins>
                                <props>
                                    <property name="action" value="close" />
                                </props>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.publish.cht">
                            <declaration>
                                <ins>
                                    <var name="cht_id" ref="pmethod.cht_id"/>
                                    <var name="oid" ref="pmethod.cht_oid"/>
                                </ins>
                                <outs>
                                    <var name="oid" ref="pmethod.cht_oid"/>
                                </outs>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.drt">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cht_oid"/>
                                </ins>
                                <props>
                                    <property name="action" value="open" />
                                </props>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.drt.clear.vote">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cht_oid"/>
                                </ins>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.drt.cht">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cht_oid"/>
                                    <var name="exitCondition" ref="pmethod.exitCondition"/>
                                </ins>
                                <outs>
                                    <var name="exitCondition" ref="pmethod.exitCondition" />
                                </outs>
                            </declaration>
                        </pgame>
                        <pgame name="pgame-sarp.toggle.drt">
                            <declaration>
                                <ins>
                                    <var name="oid" ref="pmethod.cht_oid"/>
                                </ins>
                                <props>
                                    <property name="action" value="close" />
                                </props>
                            </declaration>
                        </pgame>
                    </sequence>
                </repeat>
            </sequence>
        </pmethod>
        
    </pmethods>
    
    <!-- PMeetings -->
    
    <meetings>
    
        <meeting name="meeting-sarp.bct" description="Step 1: Brainstorm Concerns Tool">
            <declaration>
                <outs>
                    <var name="meeting.bct_id"/>
                    <var name="meeting.bct_oid"/>
                    <var name="meeting.exitCondition"/>
                </outs>
            </declaration>
            <sequence>
                <pmethod name="pmethod-sarp.bct">
                    <declaration>
                        <outs>
                            <var name="pmethod.bct_id" ref="meeting.bct_id"/>
                            <var name="pmethod.bct_oid" ref="meeting.bct_oid"/>
                        </outs>
                    </declaration>
                </pmethod>
            </sequence>
        </meeting>
        
        <meeting name="meeting-sarp.cst" description="Step 2: Concern Synthesis Tool">
            <declaration>
                <ins>
                    <var name="meeting.bct_id"/>
                </ins>
                <outs>
                    <var name="meeting.cst_id"/>
                    <var name="meeting.cst_oid"/>
                </outs>
            </declaration>
            <sequence>
                <pmethod name="pmethod-sarp.cst">
                    <declaration>
                        <ins>
                            <var name="pmethod.bct_id" ref="meeting.bct_id"/>
                        </ins>
                        <outs>
                            <var name="pmethod.cst_id" ref="meeting.cst_id"/>
                            <var name="pmethod.cst_oid" ref="meeting.cst_oid"/>
                        </outs>
                    </declaration>
                </pmethod>
            </sequence>
        </meeting>
        
        <meeting name="meeting-sarp.cht" description="Step 3: Category Hierachy Tool">
            <declaration>
                <ins>
                    <var name="meeting.cst_id"/>
                </ins>
                <outs>
                    <var name="meeting.cht_id"/>
                    <var name="meeting.cht_oid"/>
                </outs>
            </declaration>
            <sequence>
                <pmethod name="pmethod-sarp.cht">
                    <declaration>
                        <ins>
                            <var name="pmethod.cst_id" ref="meeting.cst_id"/>
                        </ins>
                        <outs>
                            <var name="pmethod.cht_id" ref="meeting.cht_id"/>
                            <var name="pmethod.cht_oid" ref="meeting.cht_oid"/>
                        </outs>
                    </declaration>
                </pmethod>
            </sequence>
        </meeting>
        
    </meetings>
    
    <!-- Situations -->
    
    <situations>
    
        <situation name="SARP" description="SARP">
            <sequence>
                <meeting name="meeting-sarp.bct">
                    <declaration>
                        <outs>
                            <var name="meeting.bct_id" ref="situation.bct_id"/>
                            <var name="meeting.bct_oid" ref="situation.bct_oid"/>
                        </outs>
                    </declaration>
                </meeting>
                <meeting name="meeting-sarp.cst">
                    <declaration>
                        <ins>
                            <var name="meeting.bct_id" ref="situation.bct_id"/>
                        </ins>
                        <outs>
                            <var name="meeting.cst_id" ref="situation.cst_id"/>
                            <var name="meeting.cst_oid" ref="situation.cst_oid"/>
                            <var name="meeting.exitCondition" ref="situation.cst_exitCondition"/>
                        </outs>
                    </declaration>
                </meeting>
                <meeting name="meeting-sarp.cht">
                    <declaration>
                        <ins>
                            <var name="meeting.cst_id" ref="situation.cst_id"/>
                        </ins>
                        <outs>
                            <var name="meeting.cht_id" ref="situation.cht_id"/>
                            <var name="meeting.cht_oid" ref="situation.cht_oid"/>
                            <var name="meeting.exitCondition" ref="situation.cst_exitCondition"/>
                        </outs>
                    </declaration>
                </meeting>
            </sequence>
        </situation>
        
    </situations>
    
    
</templates>

