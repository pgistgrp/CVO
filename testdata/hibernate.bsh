/*
 * Bean Shell Script.
 * Testing script for hibernate execution.
 */

categoryId = 4290;
Long cctId = 3342;

//hql = "select distinct tr, tr.tag.name as name from CategoryReference cr inner join cr.tags as tr where cr.cct.id=? order by name";
hql = "select count(r.id) from org.pgist.discussion.DiscussionReply r inner join r.tags as tag where r.parent.id=? and r.deleted=false and lower(tag.name)='jmatter'";

query = session.createQuery(hql);
query.setLong(0, 30222);
//query.setLong(1, 3975);

list = query.list();

for (one: list) {
  print(one);
}

